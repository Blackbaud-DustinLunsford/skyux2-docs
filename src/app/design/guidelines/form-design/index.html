<stache
    layout="container"
    pageTitle="Form design"
    showTableOfContents="true">

<stache-page-summary><p>Form design patterns to accommodate different scenarios and workflow requirements.</p></stache-page-summary>

<stache-page-anchor>Form containers</stache-page-anchor>
	
	<div class="sky-subsection-heading">Inline panel</div>
	<p>An inline panel is appropriate for simple forms that meet the following criteria:</p>
	<ul>
		<li>The form has few fields, and its input controls are not complex.</li>
		<li>The content that surrounds the form will not distract users.</li>
		<li>The task is functionally non-modal, and users can abandon it while the form is open.</li>
	</ul>

	<div class="sky-subsection-heading">Modal dialog</div>
	<p>A <a routerLink="/components/modal">modal</a> dialog is appropriate for forms that meet any of the following criteria:</p>
	<ul>
		<li>The task is functionally modal, and users must finish it before doing anything else.</li>
		<li>Displaying the form inline would lead to substantial content shifting or require users to scroll to complete the form.</li>
		<li>The form adds records from a paginated list or an infinite scroll list.</li>
	</ul>
  
	<div class="sky-subsection-heading">Full-page modal</div>
	<p>A <a routerLink="/components/modal">full-page modal</a> is appropriate for forms that meet the following criteria:</p>
	<ul>
		<li>The task is functionally modal, and users must finish it before doing anything else.</li>
		<li>Users usually perform the task in a large viewport, and a full-page modal can optimize the use of space.</li>
		<li>The context of the task is self-contained.</li>
		<li>The form displays ancillary information or previews such as running totals or an email being constructed.</li>
		<li>The form supports a complex task for a list of objects such as filling out report cards for a class.</li>
		<li>The task includes subtasks that need to be completed in context.</li>
	</ul>
    
	<div class="sky-subsection-heading">Sectioned form</div>
	<p>A <a routerLink="/components/sectioned-form">sectioned form</a> is appropriate for forms that meet the following criteria:</p>
	<ul>
		<li>Users are navigating into a hierarchy and can be expected to know what they are looking for. This is common for editing pieces of a larger record and for tasks such as applying filters.</li>
		<li>It’s beneficial to group related but independent forms to simplify the UI on the page. For example, one “Add filters” button instead of “Filter by giving,” “Filter by status,” “Filter by constituent code,” “Filter by ratings,” etc.</li>
	</ul>
  <p>Sectioned forms are not appropriate when choices on one tab can affect other tabs because changes are potentially invisible or unpredictable to users.</p>

	<div class="sky-subsection-heading">Wizard</div>
	<p>A <a routerLink="/components/wizard">wizard</a> is appropriate for forms that meet the following criteria:</p>
	<ul>
		<li>The task can be divided into discrete steps.</li>
		<li>The order of the steps is important.</li>
		<li>User actions in earlier steps affect later steps.</li>
		<li>Users must complete or review the fields in every step.</li>
		<li>Users might want to save their progress so that they can leave the form and return later.</li>
	</ul>
	
<stache-page-anchor>Field layout</stache-page-anchor>

	<div class="sky-subsection-heading">General field layout</div>
	<stache-row>
    <stache-column screenSmall="6">
			<p>Fields should generally flow vertically. Wrapping fields in the "<a routerLink="/components/form" fragment="form-group">sky-form-group</a>" class will provide the correct amount of vertical padding between fields.</p> 
			<p>The most common exception is closely-related fields (such as First Name/Last Name) which can follow a horizontal flow. When using a horizontal flow you should use a <a routerLink="/components/fluid-grid">fluid grid layout</a> to ensure that the form scales properly to smaller viewports.</p> 
			<p>The width of the input depends upon the type of data being entered into the form and should feel like a natural width. To avoid inconsistent input sizing, please use one of the following three input widths when designing a form:</p>
			<ul>
				<li>Small: 33% (4 fluid grid columns)</li>
				<li>Medium: 50% (6 fluid grid columns)</li>
				<li>Large: 100% (12 fluid grid columns)</li>
			</ul>

			<div class="sky-subsection-heading">Subsections</div> 
			<p>For cases where you want to visually separate a small set of fields (e.g. address fields) from the preceding/following fields you can use 20px of vertical spacing and use the "<a routerLink="/design/styles/typography">sky-subsection-heading</a>" class for the subsection header.</p> 

			<div class="sky-subsection-heading">Tiles</div>
			<p>If a form collects multiple facets of information and the user needs to fill out all of them, you can use tiles to group the fields of those facets.</p> 

			<div class="sky-subsection-heading">Sub-forms</div> 
			<p>For cases where you need to use a sub-form (e.g. when adding mulitple instances of a child record), follow the form container guidelines above. It’s acceptable to launch modal forms from within a modal form if alternate workflows are not feasible.</p>
		</stache-column>
		<stache-column screenSmall="6">
			<div class="screenshot screenshot-info"><img src="~/assets/img/guidelines/formdesign/form-layout.png" style="width: 100%;" /></div>
		</stache-column>
	</stache-row>

<stache-page-anchor>Field usability</stache-page-anchor>
	
	<div class="sky-subsection-heading">Labels</div>
	<p>All fields should be labeled, with the label normally located to the top left of the input. Adding the "<a routerLink="/components/form" fragment="control-label">sky-control-label</a>" class to the label will apply the correct styling.</p>

	<div class="sky-subsection-heading">Placeholder text</div>
	<p>You can use a small amount of placeholder text to help users with data entry. The placeholder text shouldn’t be used in place of a label.</p>
	
	<div class="sky-subsection-heading">Inline help</div>
	<p>Refer to the <a routerLink="/design/guidelines/user-assistance">user assistance guidelines</a> for information about when to use persistent or invoked inline help content.</p>

<stache-page-anchor>Validation and error handling</stache-page-anchor>	
	
	<p>When a user is filling out a form, they should be notified as soon as possible to errors so they can be corrected within the flow of their task rather than being collected until they think they are finished. If possible a field should be validated when the field loses focus. If that isn’t possible, the validation should run when the form is submitted.</p> 
	
	<div class="sky-subsection-heading">Required fields</div>
	<p>Required fields are denoted with a red asterisk to the right of the field label. Adding the "<a routerLink="/components/form" fragment="required-fields">sky-control-label-required</a>" class to the label will apply this styling.</p>
	
	<div class="sky-subsection-heading">Other validation</div>
	<p>You should use the <a routerLink="/components/datepicker">datepicker</a>, <a routerLink="/components/timepicker">timepicker</a>, <a routerLink="/components/email-validation">email validation</a>, and <a routerLink="/components/url-validation">URL validation</a> components when collecting those types of data. You can also create custom validation as needed.</p>
	
	<div class="sky-subsection-heading">Error states</div>
	<stache-row>
    <stache-column screenSmall="6">
			<p><code>input</code> and <code>select</code> fields that use Angular validation are <a routerLink="/components/form" fragment="error-states">automatically styled</a> with a red glow when in an error state.</p>
			<p>A validation error should be accompanied by a message letting the user know how to correct the error. This message will generally be one of two types, although there will certainly be cases where a different message is needed:</p> 
			<ol>	
				<li>[Item] is required.</li>
				<li>Please enter a valid [item].</li>
			</ol>
			<p>The error message should be displayed below the field with the error, with a prepended red warning icon to draw attention. Adding the "<a routerLink="/components/form" fragment="error-states">sky-error-label</a>" class to the message will apply the correct styling.</p>
			<p>It is sometimes the case that a form is quite long and the field that is triggering an error is scrolled out of view. To help the user identify what needs to be corrected, autoscroll to the first field that is causing an error.</p>
		</stache-column>
		<stache-column screenSmall="6">
			<div class="screenshot screenshot-info"><img src="~/assets/img/guidelines/formdesign/field-level-error.png" style="width: 100%;" /></div>
		</stache-column>
	</stache-row>

	<div class="sky-subsection-heading">Form-level errors</div>
	<p>If the form content fails to load, follow the <a routerLink="/design/guidelines/error-handling" fragment="page-element-errors">error handling guidelines</a> for the relevant page-level element.</p>
	<stache-row>
    <stache-column screenSmall="6">
			<p>If the form-level actions break (such as the Save action not working), include an error message with the "<a routerLink="/design/styles/typography">sky-text-danger</a>" class at the top left of the form action bar.</p>
		</stache-column>
		<stache-column screenSmall="6">
			<div class="screenshot screenshot-info"><img src="~/assets/img/guidelines/formdesign/form-level-error.png" style="width: 100%;" /></div>
		</stache-column>
	</stache-row>
</stache>